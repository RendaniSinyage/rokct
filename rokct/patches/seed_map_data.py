# Copyright (c) 2025 ROKCT Holdings
# For license information, please see license.txt
import frappe
import json

def execute():
    # Site-specific check
    if frappe.local.site != "bwi.tenant.rokct.ai":
        print(f"SKIPPING: Seeding Master Map Data for site {frappe.local.site}")
        return

    """
    Seeds the Competitor Zone and Competitor Route tables from a JSON file.
    This patch is designed to be hyper-verbose for clear installation logging.
    """
    print("\n--- Running Patch: Seeding Master Map Data ---")

    json_data_string = """
    {"stations":[{"name":"Oasis","lat":-22.33943597405821,"lng":30.041428419811986},{"name":"Shoprite","lat":-22.33995944397434,"lng":30.041911217434667},{"name":"Checkers","lat":-22.33720360359833,"lng":30.042646276159555},{"name":"Mum Water","lat":-22.34274770904162,"lng":30.04266377880537},{"name":"Eco Water","lat":-22.345898906293904,"lng":30.040028732723076},{"name":"Calabash water","lat":-22.35021763322396,"lng":30.03665410122887},{"name":"Limpopo Diary","lat":-22.35046570428787,"lng":30.037512408113635},{"name":"Foodzone","lat":-22.350515318447663,"lng":30.036919639921344},{"name":"Herberg Water","lat":-22.358383426739426,"lng":30.033838607357584},{"name":"Purified Water","lat":-22.332447460863065,"lng":30.037920969662466},{"name":"Aquactive Water","lat":-22.33049650727018,"lng":30.036644239638644},{"name":"Rainbow Water","lat":-22.324210406514037,"lng":30.023363512449706},{"name":"The Gee Water","lat":-22.32449077907078,"lng":30.02424864142462},{"name":"Kinley Bullies for Water","lat":-22.332893045937947,"lng":30.03186094588488},{"name":"Clireen Water","lat":-22.33288904402368,"lng":30.029787838170304},{"name":"Unknown Name","lat":-22.331916707588285,"lng":30.029460608670487},{"name":"unknown Name Still Water","lat":-22.32979345695751,"lng":30.028478608101587},{"name":"Pure Mend","lat":-22.328904379299036,"lng":30.029368855797067},{"name":"Spring Splsh splash water","lat":-22.336720763366372,"lng":30.017852120839372},{"name":"Its H2O Water","lat":-22.339274268801717,"lng":30.017170444757753},{"name":"Ronza7","lat":-22.342523916510608,"lng":30.018235930514614},{"name":"Ronza7 water","lat":-22.346629539087836,"lng":30.011232608349307},{"name":"South River","lat":-22.340760484221626,"lng":30.013810970156285},{"name":"Its Still Water","lat":-22.33198181083764,"lng":30.03439233584153},{"name":"Water is life","lat":-22.337595358026903,"lng":30.015060398512503}],"spazas":[],"zones":[{"name":"Matshwale","color":"#FF0000","info":"","path":[{"lat":-22.343405348148746,"lng":30.006518834249533},{"lat":-22.343038184218578,"lng":30.00632571520046},{"lat":-22.343544274789064,"lng":30.004469626562155},{"lat":-22.344794608321333,"lng":30.0048558646603},{"lat":-22.3448839174302,"lng":30.004448168890036},{"lat":-22.344814454794903,"lng":30.004029744283713},{"lat":-22.34528084611063,"lng":30.003686421529807},{"lat":-22.346164008369215,"lng":30.00331091226772},{"lat":-22.34684870334793,"lng":30.003010504858054},{"lat":-22.346898318795414,"lng":30.00332164110378},{"lat":-22.348257775183985,"lng":30.00332164110378},{"lat":-22.349051612198025,"lng":30.003471844808615},{"lat":-22.34946837482026,"lng":30.003750794546164},{"lat":-22.349210379058217,"lng":30.00410484613613},{"lat":-22.348912691046984,"lng":30.005231373922385},{"lat":-22.349101226861272,"lng":30.005488865987815},{"lat":-22.348872999264113,"lng":30.00584291757778},{"lat":-22.349309608253982,"lng":30.006797783987082},{"lat":-22.349994287779094,"lng":30.006475918905295},{"lat":-22.350768269278475,"lng":30.006164782659567},{"lat":-22.35152240096344,"lng":30.00612186731533},{"lat":-22.35206815161098,"lng":30.007731192724265},{"lat":-22.350708732392672,"lng":30.0083856517239},{"lat":-22.35033166485862,"lng":30.007484429494895},{"lat":-22.34880353861688,"lng":30.007999413625754},{"lat":-22.348882922210905,"lng":30.00834273637966},{"lat":-22.34814862224093,"lng":30.008922093526877},{"lat":-22.34668993379734,"lng":30.01110004724697},{"lat":-22.347305164798446,"lng":30.012763016836203},{"lat":-22.347672317489018,"lng":30.014232867376364},{"lat":-22.348267698174563,"lng":30.016282075063742},{"lat":-22.348307390129833,"lng":30.0167970591946},{"lat":-22.347364703138297,"lng":30.017279856817282},{"lat":-22.347136472697404,"lng":30.016732686178244},{"lat":-22.34631285538983,"lng":30.016936534063376},{"lat":-22.346481548487724,"lng":30.01732277216152},{"lat":-22.346084623226556,"lng":30.017730467931784},{"lat":-22.34514192120106,"lng":30.01809524835781},{"lat":-22.345092305128365,"lng":30.0183634692593},{"lat":-22.3441396731079,"lng":30.018685334341086},{"lat":-22.343832050960703,"lng":30.018953555242575},{"lat":-22.342819870071903,"lng":30.01960801424221},{"lat":-22.341738217665725,"lng":30.020187371389426},{"lat":-22.339842824863776,"lng":30.02082037271694},{"lat":-22.33911840091347,"lng":30.021002762929953},{"lat":-22.338522981149893,"lng":30.02109932245449},{"lat":-22.338195499196146,"lng":30.019650929586447},{"lat":-22.337629846737176,"lng":30.01983331979946},{"lat":-22.33800694863144,"lng":30.02107786478237},{"lat":-22.33768938920933,"lng":30.021474831716574},{"lat":-22.336925258886083,"lng":30.02157139124111},{"lat":-22.335942799460593,"lng":30.02106713594631},{"lat":-22.33640922045489,"lng":30.020262473241843},{"lat":-22.336905411289422,"lng":30.018771165029563},{"lat":-22.336964954070915,"lng":30.01829909624294},{"lat":-22.336528306416213,"lng":30.018642418996848},{"lat":-22.335595463664188,"lng":30.01804160417751},{"lat":-22.334622918831947,"lng":30.019178860799826},{"lat":-22.3345732990158,"lng":30.020187371389426},{"lat":-22.335228279167318,"lng":30.02033757509426},{"lat":-22.33514888779764,"lng":30.021152966634787},{"lat":-22.334791626074757,"lng":30.021914713995017},{"lat":-22.333888543750188,"lng":30.02186106981472},{"lat":-22.332886214762755,"lng":30.021753781454123},{"lat":-22.331973195950663,"lng":30.02162503542141},{"lat":-22.331675471132783,"lng":30.02132462801174},{"lat":-22.33163577444238,"lng":30.020745270864523},{"lat":-22.331913651037933,"lng":30.019940608160056},{"lat":-22.33213198226036,"lng":30.019382708684958},{"lat":-22.33261826420927,"lng":30.018631690160788},{"lat":-22.333035075958925,"lng":30.01809524835781},{"lat":-22.333461810507398,"lng":30.017998688833273},{"lat":-22.333789303577664,"lng":30.018277638570822},{"lat":-22.334335123652576,"lng":30.01859950365261},{"lat":-22.334325199670275,"lng":30.0178592139645},{"lat":-22.334434363436678,"lng":30.01736568750576},{"lat":-22.335297746578714,"lng":30.016206973211325},{"lat":-22.335555768089506,"lng":30.016282075063742},{"lat":-22.33565500700501,"lng":30.016013854162253},{"lat":-22.335317594404188,"lng":30.015713446752585},{"lat":-22.33564508311664,"lng":30.014758580343283},{"lat":-22.335555768089506,"lng":30.014018290655173},{"lat":-22.335764169730492,"lng":30.013192170278586},{"lat":-22.33614127667012,"lng":30.012966864721335},{"lat":-22.336468763448263,"lng":30.013020508901633},{"lat":-22.33634967743611,"lng":30.011700862066306},{"lat":-22.33781839781179,"lng":30.011690133230246},{"lat":-22.3398031304982,"lng":30.01162576021389},{"lat":-22.340597015662212,"lng":30.011475556509055},{"lat":-22.341261891008752,"lng":30.01086401285366},{"lat":-22.34234354711066,"lng":30.009919875280417},{"lat":-22.342611478976615,"lng":30.00832127870754},{"lat":-22.343087801022392,"lng":30.008181803838767},{"lat":-22.344189289519683,"lng":30.009276145116843},{"lat":-22.344516757394484,"lng":30.009673112051047},{"lat":-22.345876237011932,"lng":30.008224719183005},{"lat":-22.346541087179407,"lng":30.007752650396384},{"lat":-22.346124315803532,"lng":30.00711964906887},{"lat":-22.345260999703456,"lng":30.006990903036154},{"lat":-22.344209136079435,"lng":30.006701224462546},{"lat":-22.343693124607178,"lng":30.006443732397116}],"subZones":[]},{"name":"Nancefield","color":"#00FF00","info":"","path":[{"lat":-22.330965375366755,"lng":30.02960169899467},{"lat":-22.331739462512232,"lng":30.02743447411064},{"lat":-22.332612786441995,"lng":30.027949458241498},{"lat":-22.333307472026704,"lng":30.026061183095013},{"lat":-22.334418961765117,"lng":30.025846606373822},{"lat":-22.335510594850085,"lng":30.025975352406537},{"lat":-22.33618541830141,"lng":30.025438910603558},{"lat":-22.336741152809356,"lng":30.025696402668988},{"lat":-22.337197647355477,"lng":30.025589114308392},{"lat":-22.33701901923279,"lng":30.028507357716595},{"lat":-22.336979324063343,"lng":30.0314256011248},{"lat":-22.336106027476642,"lng":30.034300929188763},{"lat":-22.334696832815627,"lng":30.03342116463188},{"lat":-22.334081546173756,"lng":30.03462279427055},{"lat":-22.335788463725528,"lng":30.0353523551226},{"lat":-22.335073942641483,"lng":30.037519580006634},{"lat":-22.332890661091092,"lng":30.03661835777763},{"lat":-22.331818855822707,"lng":30.036446696400677},{"lat":-22.33068749688207,"lng":30.036060458302533},{"lat":-22.329417188188376,"lng":30.035030490040814},{"lat":-22.32925839878828,"lng":30.03462279427055},{"lat":-22.329635523318384,"lng":30.034086352467572},{"lat":-22.328960668175935,"lng":30.03267014610771},{"lat":-22.329675220578014,"lng":30.032240992665326},{"lat":-22.33001264682893,"lng":30.03138268578056},{"lat":-22.33068749688207,"lng":30.03211224663261},{"lat":-22.33104476911784,"lng":30.031060820698773},{"lat":-22.331243253297863,"lng":30.030588751912152},{"lat":-22.331620372461764,"lng":30.029687529683148}],"subZones":[]},{"name":"Mshongo","color":"#0000FF","info":"","path":[{"lat":-22.328841575753074,"lng":30.021597987294232},{"lat":-22.333863218003174,"lng":30.02264941322807},{"lat":-22.33255324180231,"lng":30.02462351906303},{"lat":-22.3306676483977,"lng":30.024580603718793},{"lat":-22.33001264682893,"lng":30.026812201619183},{"lat":-22.330409617843827,"lng":30.027520304799115},{"lat":-22.32999279824852,"lng":30.029086714863812},{"lat":-22.329139306619595,"lng":30.030502921223675},{"lat":-22.32826596094266,"lng":30.032219534993207},{"lat":-22.327868983827535,"lng":30.032584315419232},{"lat":-22.326916234142427,"lng":30.030974990010296},{"lat":-22.32542754973401,"lng":30.02960169899467},{"lat":-22.325606192701706,"lng":30.026790743947064},{"lat":-22.324137343731714,"lng":30.026340132832562},{"lat":-22.324117494315427,"lng":30.024280196309125},{"lat":-22.322946373756174,"lng":30.02243483650688},{"lat":-22.3239388494417,"lng":30.02142632591728},{"lat":-22.325109961671124,"lng":30.023829585194623},{"lat":-22.32566574030678,"lng":30.024945384144818},{"lat":-22.326936083160557,"lng":30.022799616932904},{"lat":-22.32860339060235,"lng":30.02337897408012}],"subZones":[]},{"name":"Blackie","color":"#FFFF00","info":"","path":[{"lat":-22.32604287454871,"lng":30.036974947804097},{"lat":-22.326876536097682,"lng":30.03437856947768},{"lat":-22.33324792768359,"lng":30.03768305098403},{"lat":-22.332394455972207,"lng":30.03967861449111},{"lat":-22.33050886042104,"lng":30.041030447834615},{"lat":-22.327968228212217,"lng":30.039700072163228},{"lat":-22.327809437162834,"lng":30.038004916065816}],"subZones":[]},{"name":"Skomplass","color":"#FF00FF","info":"","path":[{"lat":-22.332414304210847,"lng":30.039742987507466},{"lat":-22.33340671254205,"lng":30.037468474262838},{"lat":-22.33961902822127,"lng":30.040472548359517},{"lat":-22.342020520167935,"lng":30.04186729704726},{"lat":-22.34152434753634,"lng":30.04266123091567},{"lat":-22.337197647355477,"lng":30.044013064259175},{"lat":-22.336542676453615,"lng":30.042489569538716},{"lat":-22.334617441143415,"lng":30.040708582752828},{"lat":-22.33310899078414,"lng":30.04038671767104}],"subZones":[]},{"name":"Shopping","color":"#00FFFF","info":"","path":[{"lat":-22.351845344038196,"lng":30.034376834060872},{"lat":-22.352738387369687,"lng":30.035793040420735},{"lat":-22.35275823271205,"lng":30.03817484202596},{"lat":-22.35170642567222,"lng":30.038754199173177},{"lat":-22.352004107715445,"lng":30.03965542140218},{"lat":-22.350396617127057,"lng":30.04064247431966},{"lat":-22.34986078281013,"lng":30.04216596904012},{"lat":-22.34914633384928,"lng":30.04420444789144},{"lat":-22.34857080285602,"lng":30.045041297104085},{"lat":-22.347439579839083,"lng":30.045320246841634},{"lat":-22.346129731190864,"lng":30.045212958481038},{"lat":-22.345316031135045,"lng":30.04519150080892},{"lat":-22.34404585569966,"lng":30.04592106166097},{"lat":-22.342021489677652,"lng":30.046049807693684},{"lat":-22.34140623535598,"lng":30.047787879135335},{"lat":-22.3395406088784,"lng":30.04613563838216},{"lat":-22.33904139539594,"lng":30.045341704513753},{"lat":-22.33802917972601,"lng":30.044354651596272},{"lat":-22.338684143645626,"lng":30.043539260055745},{"lat":-22.33894215889046,"lng":30.0411360007784},{"lat":-22.33975589615054,"lng":30.040492270614827},{"lat":-22.342018457717213,"lng":30.041715357925618},{"lat":-22.34247493498539,"lng":30.041779730941975},{"lat":-22.344062670363858,"lng":30.041093085434163},{"lat":-22.34570992670481,"lng":30.039569590713704},{"lat":-22.348369311519438,"lng":30.037230704452718},{"lat":-22.35009589986504,"lng":30.035535548355305}],"subZones":[]}],"taxiRoutes":[{"name":"Road to Harper via Phase 8","path":[{"lat":-22.332946927216426,"lng":30.03730586640086},{"lat":-22.332594621905866,"lng":30.03708056084361},{"lat":-22.33273355931772,"lng":30.036624585311078},{"lat":-22.332683938829373,"lng":30.036254440467022},{"lat":-22.332048795019478,"lng":30.035937939803265},{"lat":-22.33182550158668,"lng":30.03580919377055},{"lat":-22.33212818815388,"lng":30.035004531066082},{"lat":-22.332837762285763,"lng":30.03255299202647},{"lat":-22.333423282277543,"lng":30.03033212296214},{"lat":-22.333686269270473,"lng":30.029387985388897},{"lat":-22.33374085141443,"lng":30.027698193709515},{"lat":-22.333755737449973,"lng":30.026024495284222},{"lat":-22.33374085141443,"lng":30.025412951628827},{"lat":-22.3335473328077,"lng":30.02504280678477},{"lat":-22.333919483736146,"lng":30.024651204268597},{"lat":-22.33470347844245,"lng":30.024002109686993},{"lat":-22.33578518542193,"lng":30.023948465506695},{"lat":-22.336633674474168,"lng":30.023674880187176},{"lat":-22.33732151503264,"lng":30.023464660754996},{"lat":-22.337817702620942,"lng":30.023073058238822},{"lat":-22.33812533803897,"lng":30.022450785747367},{"lat":-22.33817991844545,"lng":30.02158175002654},{"lat":-22.33818488029953,"lng":30.02038012038787},{"lat":-22.33794174924212,"lng":30.019532542339164},{"lat":-22.339316178419566,"lng":30.019060473552543},{"lat":-22.339896709417474,"lng":30.01890490542968},{"lat":-22.34106272591335,"lng":30.018572311511832},{"lat":-22.34270505601086,"lng":30.018073420635062},{"lat":-22.343603119573366,"lng":30.017789106479484},{"lat":-22.34488818389009,"lng":30.01739750396331},{"lat":-22.344238210754952,"lng":30.01510689746459},{"lat":-22.343801585878428,"lng":30.013427834621268},{"lat":-22.343647774516658,"lng":30.012945036998588},{"lat":-22.344456522680353,"lng":30.012478332629996},{"lat":-22.3452305349335,"lng":30.01217792522033},{"lat":-22.34587554186126,"lng":30.01198242828093},{"lat":-22.346302237111516,"lng":30.0114728085681},{"lat":-22.34696988656042,"lng":30.010634868403805},{"lat":-22.34776869242319,"lng":30.009460060855282},{"lat":-22.348249958341565,"lng":30.00875195767535},{"lat":-22.348502994394938,"lng":30.00854274537219},{"lat":-22.348875105403543,"lng":30.008365719577206},{"lat":-22.348756029988895,"lng":30.008081405421628},{"lat":-22.348790760328676,"lng":30.007952659388913},{"lat":-22.349123178857297,"lng":30.007834642192257},{"lat":-22.350001355335056,"lng":30.00748595502032},{"lat":-22.350621533129328,"lng":30.00726064946307},{"lat":-22.351350858683894,"lng":30.006949513217343},{"lat":-22.351425279444218,"lng":30.006879775782956},{"lat":-22.351747768946353,"lng":30.00679394509448}],"type":"primary"},{"name":"Harper via Phase 6","path":[{"lat":-22.337949176815297,"lng":30.01952936506388},{"lat":-22.337740778439755,"lng":30.018976830006814},{"lat":-22.337199933583562,"lng":30.018440388203835},{"lat":-22.336197628395862,"lng":30.017710827351785},{"lat":-22.336520153128536,"lng":30.017029546262002},{"lat":-22.336902219923513,"lng":30.015774272443032},{"lat":-22.33708084819582,"lng":30.015253923894143},{"lat":-22.33761176976549,"lng":30.014878414632058},{"lat":-22.338544599029156,"lng":30.014261506558633},{"lat":-22.339045744088555,"lng":30.013928912640786},{"lat":-22.33977016841635,"lng":30.013885997296548},{"lat":-22.341280513231588,"lng":30.01383235311625},{"lat":-22.34221331794973,"lng":30.01380016660807},{"lat":-22.34335995674292,"lng":30.013151072026467},{"lat":-22.34366757993194,"lng":30.012947224141335}],"type":"primary"},{"name":"main Road","path":[{"lat":-22.33267479333508,"lng":30.037142135958018},{"lat":-22.335066480948356,"lng":30.038472511629404},{"lat":-22.338242102357686,"lng":30.039953091005625},{"lat":-22.341278722685214,"lng":30.0415516875785},{"lat":-22.341943594780705,"lng":30.042150803128752},{"lat":-22.342509229738774,"lng":30.041904039899382},{"lat":-22.343243559418422,"lng":30.041335411588225},{"lat":-22.343610722807664,"lng":30.041324682752165},{"lat":-22.345188522040587,"lng":30.040262527982268},{"lat":-22.34677622651064,"lng":30.039146729032073},{"lat":-22.347986839016187,"lng":30.03820259145883},{"lat":-22.348631833188453,"lng":30.037279911557707},{"lat":-22.350080578446434,"lng":30.0359817223945},{"lat":-22.35203536838159,"lng":30.034415312329802},{"lat":-22.353087172938388,"lng":30.03367502264169},{"lat":-22.3540644193214,"lng":30.033261820892236},{"lat":-22.355056673533078,"lng":30.03290776930227},{"lat":-22.35601915336631,"lng":30.03293995581045},{"lat":-22.356931812993196,"lng":30.032982871154687},{"lat":-22.360146624822484,"lng":30.03369097433462}],"type":"primary"},{"name":"via China Mall","path":[{"lat":-22.326613596759014,"lng":30.022508275274784},{"lat":-22.325750159863915,"lng":30.024042498831303},{"lat":-22.325442497150316,"lng":30.025791299109013},{"lat":-22.325244004717003,"lng":30.028484236959965},{"lat":-22.325114984483903,"lng":30.029975545172245},{"lat":-22.325472270990964,"lng":30.031541955236943},{"lat":-22.32614934168742,"lng":30.03271852893857},{"lat":-22.328243409044823,"lng":30.034397783761086},{"lat":-22.32903736001451,"lng":30.03528827715403},{"lat":-22.329865766084456,"lng":30.03594526948073},{"lat":-22.331582659408646,"lng":30.03673920334914},{"lat":-22.332852948381436,"lng":30.037350747004535}],"type":"secondary"},{"name":"mshongo Main","path":[{"lat":-22.33359724556229,"lng":30.029656420374618},{"lat":-22.332728889844923,"lng":30.029656420374618},{"lat":-22.331458599742287,"lng":30.029264817858444},{"lat":-22.33111621488374,"lng":30.02912534298967},{"lat":-22.33035204854519,"lng":30.02934528412889},{"lat":-22.32941420231723,"lng":30.02956522526811},{"lat":-22.329025483387657,"lng":30.029601873810233},{"lat":-22.32864835720837,"lng":30.02945703452343},{"lat":-22.32752193478692,"lng":30.02888840621227},{"lat":-22.327214275980406,"lng":30.028722109253348},{"lat":-22.327035635071713,"lng":30.028014006073416},{"lat":-22.32692646551492,"lng":30.027504386360587},{"lat":-22.326986012556485,"lng":30.027252258713187},{"lat":-22.327457425738547,"lng":30.02615791743511},{"lat":-22.32797349729037,"lng":30.024977745468558},{"lat":-22.32838536071679,"lng":30.024087252075613},{"lat":-22.32855903770078,"lng":30.023722471649588},{"lat":-22.327710499526546,"lng":30.023266496117056},{"lat":-22.326549141961312,"lng":30.022605096638593}],"type":"secondary"},{"name":"mshongo Alt","path":[{"lat":-22.333558622805384,"lng":30.02502729709912},{"lat":-22.33337006597121,"lng":30.0247000675993},{"lat":-22.332690266847557,"lng":30.024410389025693},{"lat":-22.332070009281953,"lng":30.024383566935544},{"lat":-22.331046318387873,"lng":30.02446403320599},{"lat":-22.330257340988393,"lng":30.024533770640378},{"lat":-22.32968173201987,"lng":30.02425482090283},{"lat":-22.32855813239728,"lng":30.02372910793591}],"type":"secondary"},{"name":"phase1/2 alt","path":[{"lat":-22.33619935849377,"lng":30.017717183279206},{"lat":-22.335603926265716,"lng":30.017298758672883},{"lat":-22.335331018978184,"lng":30.017550886320283},{"lat":-22.334666115351173,"lng":30.01837164227884},{"lat":-22.333782880257733,"lng":30.0194219692715},{"lat":-22.333450425150012,"lng":30.019797478533587},{"lat":-22.333197361775618,"lng":30.020108614779314},{"lat":-22.332874829358385,"lng":30.02141753277858},{"lat":-22.33256718235772,"lng":30.021396075106463},{"lat":-22.332150369209792,"lng":30.021283422327837},{"lat":-22.331991582921027,"lng":30.02119222722133},{"lat":-22.3323389276929,"lng":30.01994768223842},{"lat":-22.332497713586232,"lng":30.019507799959978},{"lat":-22.33309812111129,"lng":30.018767510271868},{"lat":-22.33350004536566,"lng":30.018359814501604},{"lat":-22.3341252585702,"lng":30.019019637919268}],"type":"secondary"},{"name":"phase 1/2 alt 2","path":[{"lat":-22.333108045180897,"lng":30.020527039385637},{"lat":-22.33439320622844,"lng":30.020569954729876},{"lat":-22.33491917606049,"lng":30.020559225893816},{"lat":-22.33487948029331,"lng":30.02150336346706},{"lat":-22.33391685448011,"lng":30.021492634631},{"lat":-22.332865886503566,"lng":30.02142826161464}],"type":"secondary"},{"name":"phase3 alt","path":[{"lat":-22.334920454890437,"lng":30.01804075160818},{"lat":-22.3345532686163,"lng":30.017686700018213},{"lat":-22.335352145624917,"lng":30.01673183360891},{"lat":-22.33554069977929,"lng":30.01649043479757},{"lat":-22.335679634256223,"lng":30.016093467863367}],"type":"secondary"},{"name":"via Old N1 to town","path":[{"lat":-22.336850647918958,"lng":30.016088103445338},{"lat":-22.33521817278135,"lng":30.016141747625635},{"lat":-22.334786481632165,"lng":30.016152476461695},{"lat":-22.33412653740742,"lng":30.016597723158167},{"lat":-22.33361545063655,"lng":30.01727363982992},{"lat":-22.332583347369898,"lng":30.01824459949331},{"lat":-22.331705061171338,"lng":30.01881322780447},{"lat":-22.33033055698117,"lng":30.0197734586318},{"lat":-22.329382786274753,"lng":30.020368909033106},{"lat":-22.32852432871599,"lng":30.02099654594259},{"lat":-22.327417754242717,"lng":30.021715377958582},{"lat":-22.326598982727027,"lng":30.02251467624502}],"type":"secondary"},{"name":"phase4 alt","path":[{"lat":-22.33791550065397,"lng":30.01950949484497},{"lat":-22.337126562113774,"lng":30.019740164820252},{"lat":-22.336734572122612,"lng":30.019879639689027},{"lat":-22.33705709561338,"lng":30.02101153189331},{"lat":-22.337523512880608,"lng":30.020866692606507},{"lat":-22.337230761799447,"lng":30.019713342730103}],"type":"secondary"},{"name":"Bus Alt","path":[{"lat":-22.334127080734252,"lng":30.016586050739654},{"lat":-22.334801910880316,"lng":30.015502438297638},{"lat":-22.3353427650371,"lng":30.014043316593536},{"lat":-22.335571014785792,"lng":30.01298116182364},{"lat":-22.335635520081837,"lng":30.01216040586508},{"lat":-22.33563055813705,"lng":30.011355743160614},{"lat":-22.33586873128787,"lng":30.011312827816376},{"lat":-22.337427066905438,"lng":30.011317372215114},{"lat":-22.338548447492165,"lng":30.011317372215114},{"lat":-22.338533561968223,"lng":30.011548042190395},{"lat":-22.338538523809717,"lng":30.012068390739284},{"lat":-22.33873203549019,"lng":30.012465357673488},{"lat":-22.338985088820987,"lng":30.012835502517543},{"lat":-22.33902478341944,"lng":30.01340949524673},{"lat":-22.33903966889096,"lng":30.01392447937759}],"type":"secondary"},{"name":"Ext14 Main","path":[{"lat":-22.34683218968944,"lng":30.007824818904435},{"lat":-22.346410457622877,"lng":30.007899920756852},{"lat":-22.345631490332945,"lng":30.008114497478044},{"lat":-22.344951750988088,"lng":30.008141319568193},{"lat":-22.344485358571227,"lng":30.008259336764848},{"lat":-22.343652252591355,"lng":30.008326148557664},{"lat":-22.343007235375808,"lng":30.00820276694298},{"lat":-22.3426797639549,"lng":30.00815448718071},{"lat":-22.34238702370018,"lng":30.008074020910264},{"lat":-22.342089321115775,"lng":30.009103989171983},{"lat":-22.341538569658688,"lng":30.010015940237047},{"lat":-22.341012624794846,"lng":30.010530924367906},{"lat":-22.34019981936925,"lng":30.01103954456027},{"lat":-22.339259500322882,"lng":30.01128094337161},{"lat":-22.33852018781646,"lng":30.011318494297818}],"type":"secondary"},{"name":"ext14 to Harper","path":[{"lat":-22.346801014634707,"lng":30.007823484566714},{"lat":-22.347550206267616,"lng":30.007726925042178},{"lat":-22.348120779975293,"lng":30.007743018296267},{"lat":-22.348522660923837,"lng":30.00765182318976},{"lat":-22.348944386599012,"lng":30.007281678345706},{"lat":-22.349509993148022,"lng":30.006863253739382},{"lat":-22.349926754399426,"lng":30.006519930985476},{"lat":-22.350150018842843,"lng":30.007077830460574},{"lat":-22.35024924736954,"lng":30.00739969554236}],"type":"secondary"},{"name":"nancefield Alt","path":[{"lat":-22.33207801714096,"lng":30.035128873776372},{"lat":-22.333745263123788,"lng":30.035761875103887},{"lat":-22.33443994306775,"lng":30.033583921383794},{"lat":-22.334946064847998,"lng":30.031878036450323},{"lat":-22.335184239167855,"lng":30.031266492794927},{"lat":-22.335174315245983,"lng":30.029796642254766},{"lat":-22.335283478347726,"lng":30.02744702715772},{"lat":-22.33521401092923,"lng":30.02698568720716},{"lat":-22.334697966165614,"lng":30.026116651486333},{"lat":-22.334380399208126,"lng":30.02593426127332},{"lat":-22.33371549104887,"lng":30.025902074765142}],"type":"secondary"},{"name":"Town Alt","path":[{"lat":-22.34130004696253,"lng":30.041669535811714},{"lat":-22.341766450036435,"lng":30.042420554335884},{"lat":-22.342927489209465,"lng":30.04280679243403},{"lat":-22.34360227676433,"lng":30.043203759368232},{"lat":-22.34439614029399,"lng":30.043954777892402},{"lat":-22.34508084395696,"lng":30.042066502745918},{"lat":-22.344257214502658,"lng":30.04202358740168},{"lat":-22.34327480674124,"lng":30.041379857238105}],"type":"secondary"},{"name":"Town Alt2","path":[{"lat":-22.345572034431154,"lng":30.04000119325465},{"lat":-22.34590942221598,"lng":30.040419617860973},{"lat":-22.346901734496832,"lng":30.040687838762462},{"lat":-22.34593919168719,"lng":30.04324130174464},{"lat":-22.345403340232497,"lng":30.044603863924205},{"lat":-22.34438124748656,"lng":30.043938676088512}],"type":"secondary"}]}
    """
    data = json.loads(json_data_string)

    # Seed Zones
    print("--- Running Step: Seeding Zones ---")
    zones_data = data.get("zones", [])
    if not zones_data:
        print("No zones found in data to seed.")
    else:
        for zone in zones_data:
            try:
                if not frappe.db.exists("Competitor Zone", zone.get("name")):
                    new_zone = frappe.new_doc("Competitor Zone")
                    new_zone.zone_name = zone.get("name")
                    new_zone.zone_path = json.dumps(zone.get("path"))
                    new_zone.insert(ignore_permissions=True)
                    print(f"SUCCESS: Imported zone '{zone.get('name')}'")
                else:
                    print(f"SKIPPED: Zone '{zone.get('name')}' already exists.")
            except Exception as e:
                print(f"ERROR: Failed to import zone '{zone.get('name')}'. Reason: {e}")
                frappe.log_error(f"Failed to import zone {zone.get('name')}: {e}", "Seeder Error")

    # Seed Routes
    print("\n--- Running Step: Seeding Routes ---")
    routes_data = data.get("taxiRoutes", [])
    if not routes_data:
        print("No routes found in data to seed.")
    else:
        for route in routes_data:
            try:
                if not frappe.db.exists("Competitor Route", route.get("name")):
                    new_route = frappe.new_doc("Competitor Route")
                    new_route.route_name = route.get("name")
                    # Fix case-sensitivity issue from legacy data
                    route_type = route.get("type", "Secondary").capitalize()
                    new_route.route_type = route_type
                    new_route.route_path = json.dumps(route.get("path"))
                    new_route.insert(ignore_permissions=True)
                    print(f"SUCCESS: Imported route '{route.get('name')}'")
                else:
                    print(f"SKIPPED: Route '{route.get('name')}' already exists.")
            except Exception as e:
                print(f"ERROR: Failed to import route '{route.get('name')}'. Reason: {e}")
                frappe.log_error(f"Failed to import route {route.get('name')}: {e}", "Seeder Error")

    frappe.db.commit()
    print("\n--- Seeding complete ---")